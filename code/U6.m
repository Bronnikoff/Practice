x = -5:0.0002:5
y = (x.^4-4*x.^3+2*x.^2)./(x+1)./(x-2).^2;
X = [-5 5]
Y = [-7 6]
Z = [0 0]
W = [-1 -1]
W1 = [2 2]
plot(X,Z, 'r--', x, y, 'k-', Z,Y, 'r--', W, Y, 'b--', W1, Y, 'b--')
xlabel('x')
ylabel('f(x)')
title('график функции (x^4-4x^3+2x^2)/((x-2)^2(x+1))')
ylim([-7,6])
xlim([-5,5])
hl = legend('y=(x^4-4x^3+2x^2)/((x-2)^2(x+1))')
axes(hl)